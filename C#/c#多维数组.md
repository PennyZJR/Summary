# c#多维数组

C# 中的多维数组有两种实现方式：

1. **矩形数组（Rectangular Array）**：
   - 使用 `int[,]` 语法声明。
   - 所有行和列的大小是固定的。
   - 示例：`int[,] graph = new int[n+1, n+1];`
2. **锯齿数组（Jagged Array）**：
   - 使用 `int[][]` 语法声明。
   - 每一行可以有不同的长度。
   - 示例：`int[][] graph = new int[n+1][];`，然后为每一行分配内存。

### 正确实现

#### 方法 1：使用锯齿数组（`int[][]`）

```c#
int[][] graph = new int[n + 1][];
for (int i = 0; i <= n; i++)
{
    graph[i] = new int[n + 1];
}
```

#### 方法 2：使用矩形数组（`int[,]`）

```c#
int[,] graph = new int[n + 1, n + 1];
```

### 两种方式的区别

| 特性         | 锯齿数组（`int[][]`）      | 矩形数组（`int[,]`）           |
| :----------- | :------------------------- | :----------------------------- |
| **内存布局** | 不连续，每一行单独分配内存 | 连续，所有元素存储在一块内存中 |
| **灵活性**   | 每一行可以有不同的长度     | 所有行和列的长度必须相同       |
| **性能**     | 访问稍慢（需要两次索引）   | 访问更快（内存连续）           |
| **语法**     | 需要为每一行单独分配内存   | 直接声明即可                   |

### 示例代码

#### 锯齿数组（`int[][]`）

```c#
int n = 5;
int[][] graph = new int[n + 1][];
for (int i = 0; i <= n; i++)
{
    graph[i] = new int[n + 1];
}

// 赋值
graph[1][2] = 1;
graph[2][3] = 1;

// 输出
Console.WriteLine(graph[1][2]); // 输出: 1
```

#### 矩形数组（`int[,]`）

```c#
int n = 5;
int[,] graph = new int[n + 1, n + 1];

// 赋值
graph[1, 2] = 1;
graph[2, 3] = 1;

// 输出
Console.WriteLine(graph[1, 2]); // 输出: 1
```